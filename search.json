[{"categories":["笔记"],"content":"搭建这个博客用的HUGO，FixIt主题，按照文档配置好之后，发现主页没有文章列表，点进Archives里面也没有，自己没什么基础，百思不得其解，网上也没搜到解决方案。 想到个笨办法，找了另一个主题的hugo.toml文件一项一项对比，发现不同的地方就改改看看，还真找到了问题所在： FixIt主题下载之后无论是主题默认的还是Demo里面的hugo.toml都没有配置mainSections，文档里面也没有具体说明白这个东西怎么用，对于没有基础的菜鸟来说不太友好。 HUGO官方文档的描述： （string或[ ]string）网站的主要版块。如果已设置，则对象MainSections上的方法Site返回指定的版块；否则，返回页面最多的版块。 由于是一个新博客，content下面就只有一个posts,所以mainSections留空导致Archives没有办法链接到对应“页面最多的版块”的目录，我猜是这样的。 所以解决方案： # the main sections of a site mainSections = ['posts'] 恢复正常了，要注意toml的语法，HUGO官方文档有描述 ","date":"2025-10-29","objectID":"/posts/fixed-up-hugo-no-archives/:0:0","tags":["HUGO","FixIt"],"title":"解决HUGO文档（Archives）中不显示文章的问题","uri":"/posts/fixed-up-hugo-no-archives/"},{"categories":["笔记"],"content":" 移动硬盘分区恢复 电脑有一个USB接口松动了，昨天插了个移动硬盘，用着用着提示硬盘断开了链接，拔插了一下好了，过了几秒钟又断开了，如此反复几次后，移动硬盘分区打不开了。 换了个USB接口，四个分区只有G：是正常的，HIJ三个盘只显示盘符，打不开。顿时很慌乱，硬盘里有大量的重要的数据，一顿折腾。 理顺了一下逻辑，由于USB接口松动，造成移动硬盘处于连续的热拔插状态，没有操作弹出硬盘，导致分区表坏了。 上网一顿搜，先是下载了DiskGenius，使用智能加载分区，发现H和I盘能加载上内容，J盘显示未格式化,只能加载分区盘内没有数据。 先尝试恢复H盘的数据，直接选择智能加载分区后显示出来的文件，复制到别的盘上，提示免费版只能复制小文件，复制大文件请购买专业版，而且也没说明多大算是大文件。看了看价格，好几百，虽说数据无价，但暂时我还不想花这么多钱，想着研究研究有没有别的办法。 还真是找到了一个办法，Win+r唤出命令提示符，输入CHKDSK H:/F,其中的H:指的是要恢复的H盘分区，大约过了十秒钟，闪过一堆东西，最后提示Windows已更正文件系统balabala.....，回到我的电脑，打开H盘，果然，恢复如常。 如法炮制恢复了I盘，但在恢复J盘的时候，提示无法确定卷版本和状态。CHKDSK 被终止,没办法，回到DiskGenius，使用恢复丢失的文件功能，缓慢恢复。好在这是最后一个分区，只有100G容量，内容也不多，预计半个小时能恢复，现在正在恢复中，我打完上面这些字已经恢复了50%，稍等等再更新。 果然没有免费的午餐，能够恢复出来数据，但由于里面都是电影，所以都是些大文件，想要复制出来，需要付费。再次尝试CHKDSK，依旧。 我支持正版，觉得人家收费理所应当，不过我这些数据不值钱，既然能够恢复出来数据，我想再尝试一下有没有别的办法。 20220828 使用了嗨格式数据恢复大师,扫出来一大堆位置路径文件，而且全部进行了纯数字重命名，主要是不安分区来的，自己也区分不了那些是正常的哪些是丢失的，考虑到J盘没什么特别重要的东西，决定放弃恢复了。 ","date":"2023-06-29","objectID":"/posts/partition-recovery/:0:0","tags":["分区恢复","硬盘工具","DiskGenius"],"title":"失败的移动硬盘分区恢复","uri":"/posts/partition-recovery/"},{"categories":["笔记"],"content":" 使用宝塔webhook自动拉取gitee项目 这个功能可以参考我之前写的docsify学习笔记中有关宝塔面板同步gitee部分内容。 反向代理实现域名免端口登录面板 提示 本文参考了Nginx 反代使宝塔隐藏端口，使用 80 或 443 登录面板！ 首先做一下域名解析 给宝塔面板绑定域名 警告 一定要确认域名已经解析成功再操作给面板绑定域名，不然解析成功之前无法访问面板。因为绑定后会立即退出面板，然后只能通过域名+端口+安全入口访问。 发现开启面板SSL太麻烦了，没办法直接拉取自己域名的证书，需要手动粘贴，所以果断放弃了面板SSL 新建一个站点，绑定上面的域名，进入站点设置，反向代理，“缓存”、“高级功能”都不要点开，目标URL就是正常的登录的域名:端口，发送域名就是想用的域名 提示 好像不需要加上/安全入口，直接用域名:端口就可以了，我也不知道为什么。 在实际测试的时候，有几个问题： 开启了“缓存”后，会导致提示ERR_TOO_MANY_REDIRECTS这样的太多重定向错误，网页无法打开。 教程上说完成后点击保存并打开配置文件，将这条反向代理的配置文件中的 expires 12; 删掉（若不删掉会因为缓存导致反代后的面板无法登陆，提示ERR_TOO_MANY_REDIRECTS），实际上在新建反向代理的时候，不勾选缓存就可以了，不需要这么麻烦。 目标URL使用了域名:端口/安全入口重定向后就会变成域名/安全入口，端口消失导致无法打开面板，删除/安全入口后反而能够正常登陆了。 使用反向代理后，面板设置里面的端口变成了80，不用管他，也不要修改。 网站突然打不开了 昨天设置好了域名反向代理免端口登录面板，结果今天一早发现不好使，直接提示网页打不开，使用了域名:端口/安全入口可以进入面板。打开自己的网站，发现也是网页打不开，奇怪，进行了以下检测： ping域名，确认域名解析正常； 检查服务器安全组，端口均正常放行； 检查宝塔面板安全，端口均正常放行。 等等，443端口显示“放行”，“未使用”，80端口也是这样。 说明没有服务鉴定443和80端口，抓头。 奇怪，没做什么操作啊。检查了一下网站的ssl证书，都是正常的 警告 进入软件商店，发现Nginx竟然是暂停状态，重启了Nginx，一切恢复正常了，莫名其妙。 ","date":"2022-10-20","objectID":"/posts/bt/:0:0","tags":["宝塔面板"],"title":"宝塔面板学习笔记","uri":"/posts/bt/"},{"categories":["笔记"],"content":" 脚本 @ECHO OFF title=GIT提交 set /p input=请输入备注： git add * git commit -m \"%input%\" git push -f origin master echo \"提交成功！！！\" pause 使用方法 将脚本另存为Gitee全推送.bat,存放在需要推送的文件夹里，每次双击运行，输入备注，确定推送就可以啦。 注意，要将编码方式改为ANSI，否则可能会出现中文乱码。 还有个方法，看起来挺好，不过我没那么多内容需要操作，所以就没用 传送门：使用TortoiseGit图形化工具免Git命令远程控制仓库 - Gitee篇 基本完全搬运，个人略微修改，亲测好使 原文出处：本地脚本自动提交文件夹中的内容到Gitee仓库 ","date":"2022-09-25","objectID":"/posts/auto-gitee/:0:0","tags":["gitee"],"title":"本地自动推送Gitee","uri":"/posts/auto-gitee/"},{"categories":["笔记"],"content":" 简化版推送是指每次推送都将本地所有文件完全覆盖远程仓库，团队使用可能会出问题，例如将别人的代码覆盖，个人使用会更加简便。不过由于是全部推送，体积很大的项目建议还是不要用了。 原文出处:15分钟快速生成免费超高逼格官方文档 正常Gitee推送 全局User配置(只用操作一次) git config --global user.name \"your_Name\" git config --global user.email \"your_email\" 初始化本地Git仓库 git init 绑定远程仓库 git remote add origin 远程仓库地址 将所有文件添加到暂存区 git add * 将暂存区的文件添加到本地仓库 git commit -m \"注释\" 将远程仓库和本地仓库合并(如果合并失败整理好再push 或者 强制push) git pull origin master --allow-unrelated-histories 将本地仓库推送到远程仓库(-u 跟踪分支 -f 强制推送) git push -u origin master git push -f origin master 简化版Gitee推送 全局User配置(只用操作一次) git config --global user.name \"your_Name\" git config --global user.email \"your_email\" 克隆远程仓库 git clone 远程仓库地址 将所有文件添加到暂存区 git add * 将暂存区的文件添加到本地仓库 git commit -m \"注释\" 将本地仓库推送到远程仓库(-f 强制推送) git push -f origin master ","date":"2022-09-24","objectID":"/posts/disallow/:0:0","tags":["gitee"],"title":"Gitee推送","uri":"/posts/disallow/"},{"categories":["笔记"],"content":" docsify本地部署 windows环境搭建 软件准备 node.js中文官网 选择“长期支持版本（LTS）” git官网 下载最新版本 软件安装 node.js 默认安装即可 安装完成后 win+r 打开命令提示符输入 node 有版本号输出即可 git 安装时注意添加到桌面快捷方式，其他内容默认安装即可 安装完成后 右键能打开 Git Bash Here 即可 新建文件夹命名为tcwiki，右键使用 Visual Studio Code 打开 发现右键没有 Visual Studio Code 解决方案 新建文本文档，修改后缀为 .reg 右键打开文档，粘贴为以下代码 Windows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\*\\shell\\VSCode] @=\"Open with Code\" \"Icon\"=\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Microsoft VS Code\\\\Code.exe\" [HKEY_CLASSES_ROOT\\*\\shell\\VSCode\\command] @=\"\\\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Microsoft VS Code\\\\Code.exe\\\" \\\"%1\\\"\" Windows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\Directory\\shell\\VSCode] @=\"Open with Code\" \"Icon\"=\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Microsoft VS Code\\\\Code.exe\" [HKEY_CLASSES_ROOT\\Directory\\shell\\VSCode\\command] @=\"\\\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Microsoft VS Code\\\\Code.exe\\\" \\\"%V\\\"\" Windows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\VSCode] @=\"Open with Code\" \"Icon\"=\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Microsoft VS Code\\\\Code.exe\" [HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\VSCode\\command] @=\"\\\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Microsoft VS Code\\\\Code.exe\\\" \\\"%V\\\"\" 其中C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Microsoft VS Code\\\\Code.exe为 Visual Studio Code 所在位置路径，可以在 Visual Studio Code 快捷方式上右键-属性获得，注意\\要替换为\\\\。 修改完成后保存，双击运行，在文件加上右键，发现使用 Visual Studio Code 打开已出现，成功。 VS Code设置和插件安装 安装Markdown Preview Github Styling 插件 可以进行Markdown预览 点击插件旁边的小齿轮，设置显示模式为light可以变换右侧预览窗口的颜色 新建demo.md 学习和测试 markdown 语法 markdown常用语法 npm更换国内镜像源（淘宝） CMD输入以下命令 npm config set registry https://registry.npm.taobao.org 使用下面的命令查看是否切换成功 npm get registry 部署docsify 打开docsify官方GitHub,下拉找到Documentation点击进入官方网站。 或者可以直接进入其官网https://docsify.js.org/ Translations 切换中文 完犊子，官方的中文翻译404了… 20220814上梯子可以显示了 docsify-cli全局安装 npm i docsify-cli -g 初始化 docsify docsify init ./docs 提示： docsify : 无法加载文件 C:\\Users\\Administrator\\AppData\\Roaming\\npm\\docsify.ps1，因为在此系统上禁止运行脚本。有关详细信息， 请参阅 https:/go.microsoft.com/fwlink/?LinkID=135170 docsify : 无法加载文件 C:\\Users\\Administrator\\AppData\\ Roaming\\npm\\docsify.ps1，因为在此系统上禁止运行脚本。 上网查了一下，是因为windows 为了安全 默认的执行策略为 Restricted,调整设置为RemoteSigned就可以了。具体操作如下： Visual Studio Code中选择任意md文件右键在集成终端中打开 获取默认的执行策略，终端中运行get-executionpolicy。 设置执行策略,继续运行Set-ExecutionPolicy RemoteSigned,提示错误。 原因在于没有获得管理员权限，关闭Visual Studio Code,在其快捷方式上右键以管理员身份运行,重新运行即恢复正常。 下面是4种常用的执行策略 Restricted：禁止运行任何脚本和配置文件。 AllSigned ：可以运行脚本，但要求所有脚本和配置文 件由可信发布者签名，包括在本地计算机上编写的脚本。 RemoteSigned ：可以运行脚本，但要求从网络上下载的脚本和配置文件由可信发布者签名;不要求对已经运行和已在本地计算机编写的脚本进行数字签名。 Unrestricted ：可以运行未签名脚本。（危险！） 重新初始化 docsify docsify init ./docs 成功。自动新建了docs文件夹,其中有3个文件 index.html - 入口文件 README.md - 主页内容 .nojekyll - 防止 GitHub Pages 忽略以下划线开头的文件 启动本地服务 docsify serve docs 不出意外，出现了新的问题 页面不显示任何内容 各种尝试，各种失败，今晚就到这里吧。 用Chrome检查Network，发现docsify的script和vue.css状态为failed。 检查index.html发现这两个引用文件使用了jsdelivr的CDN，上网查询发现2021年12月份jsdelivr的备案被取消了，所以国内无法访问。需要考虑替换方案。 将cdn.jsdelivr.net/npm全部替换为unpkg.com恢复正常 备选方案（来源知乎：jsdelivr的cdn挂了，很多依赖GitHub的网站打不开了，解决方法来了） 很多GitHub文件的cdn也用的jsdelivr，将http://cdn.jsdelivr.net替换为http://fastly.jsdelivr.net 就行了。 如果这个也挂了,打开https://ipaddress.com/website/raw.githubusercontent.com将ip地址复制到host文件C:\\Windows\\System32\\drivers\\etc\\hosts即可。 相关设置 index.html设置 window.$docsify修改，可以在右上角显示GitHub logo并可附带链接。 name为网站标题 repo为网站链接 添加侧边栏 loadSidebar: true。注意，换行时需要以,结束上一行代码。 新建_sidebar.md文件 在_sidebar.md文件里面写入侧边栏主目录，使用相对路径链接。 显示目录 subMaxLevel: 2 这里的2指的是侧边栏显示二级目录，即二号标题##，这样以来，一号标题#就会被隐藏，可以作为备注或描述使用。 定制封面 coverpage: true 在根目录下新建_coverpage.md文件 定制导航栏 loadNavbar: true 在根目录下新建_navbar.md文件 上传Gitee仓库 仓库配置 登录Gitee 如果未实名，需要先进行实名认证，1天内就可完成 新建仓库 可以选择公开或私有（新建仓库时无法选择，可以先建好仓库后修改） 初始化仓库，开源许可选择MIT即可 MIT许可简介：我写我的代码，你尽管拿去用，出了问题我不负责 新建完仓库后，进入仓库管理，就可以设置开源了。 Git上传推送 在在docs上级文件夹内右键Git Bash Here 全局User配置(只用操作一次) git config --global user.name \"your_Name\" git config --global user.email \"your_email\" 克隆远程仓库 git clone 远程仓库地址 通过克隆远程仓库，可以直接自动绑定仓库，省去了绑定仓库","date":"2022-09-23","objectID":"/posts/docsify-notes/:0:0","tags":["docsify","静态博客"],"title":"docsify学习笔记","uri":"/posts/docsify-notes/"},{"categories":["笔记"],"content":"markdown语法学习 Markdown是个好东西，可以通过简单语法实现快速排版，避免复杂软件操作，节省时间，支持键盘操作，无需频繁切换工具栏，实现输入与格式调整同步完成。 标题 几级标题就用几个#，可表示 1-6 级标题，顶格写，#后面空一格，写标题内容，以此类推。例如： # 一级标题 ## 二级标题 ### 三级标题 ... 段落 Markdown的段落没有特殊的格式，直接编写文字就好，段落的换行号是使用两个以上的空格加回车。 字体 Markdown 可以使用以下几种字体： 在文字的前后同时用1个星号*或底线_表示斜体 在文字的前后同时用2个星号*或底线_表示粗体 在文字的前后同时用3个星号*或底线_表示粗斜体 语法格式： 因为影响页面效果省略 显示效果： 斜体文字 斜体文字 粗体文字 粗体文字 粗斜体文字 粗斜体文字 分割线 可以在一行中用三个以上的星号*、减号-、底线_来建立一个分隔线，行内不能有其他东西，也可以在星号或减号中插入空格。下面这种写法都可以建立分隔线： 语法格式因为影响页面效果省略 显示效果: 删除线 如果段落上的文字要添加删除线，只需要在文字的两端加上两个波浪线~~即可。 语法格式： ~~这段文字需要删除~~ 显示效果: 这段文字需要删除 下划线 下划线可以通过HTML的标签来实现 \u003cu\u003e带下划线文本\u003c/u\u003e 显示效果: 带下划线文本 代码框 如果是段落上的一个函数或片段的代码可以用两个 ` 把它包起来,这个符号在常规键盘里位于Esc键下面，数字1键前面，与 ~ 符号在同一个键上，我也不知道这个符号的名字，不是单引号。 语法格式： `print()` 函数 显示效果： print()函数 代码区块 代码区块可以换行后使用3个 ` 独占一行表示开始，最后再使用3个独占一行标识结束。 显示效果见本文中的代码区块。 链接 普通链接 链接使用方法如下： [链接的文字](链接地址) 或者 \u003c带http或https的链接地址\u003e 显示效果： 链接的文字 https://www.buray.top 高级链接 链接也可以用变量来代替，文档末尾附带变量地址： 这个链接用1作为网址变量[链接的文字][1] 这个链接用markdown作为网址变量[Markdown语法][markdown] 这里需要空行 【1】: https://www.buray.top 【markdown】: /docsify/markdown.md ★为了显示方便，我把[]替换成了【】 显示效果： 这个链接用1作为网址变量链接的文字 这个链接用markdown作为网址变量Markdown语法 图片 Markdown图片语法格式为: ![alt 属性文本](图片地址) ![alt 属性文本](图片地址 \"可选标题\") ![](图片地址) 开头一个感叹号! 接着一个方括号，里面放上图片的代替文字 接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上选择性的’title’属性文字。 显示效果： ![头像](https://burayimg.heisenw.com/blog/img/a6c9b1f7-6da1-4978-bedf-29b03325cace.webp) 也可以像网址那样对图片使用变量 这个图片链接用1作为网址变量[头像][1] 然后在文档的结尾为变量赋值（网址） 【1】: (https://burayimg.heisenw.com/blog/img/a6c9b1f7-6da1-4978-bedf-29b03325cace.webp) ★为了显示方便，我把[]替换成了【】 Markdown 没有办法指定图片的高度与宽度，如果需要的话，可以使用HTML\u003cimg\u003e标签： \u003cimg src=\"https://burayimg.heisenw.com/blog/img/a6c9b1f7-6da1-4978-bedf-29b03325cace.webp\" width=10%\u003e 本文大量参考《Markdown常用语法汇总》 ","date":"2022-09-22","objectID":"/posts/markdown-notes/:0:0","tags":["Markdown"],"title":"Markdown语法学习","uri":"/posts/markdown-notes/"},{"categories":["笔记"],"content":" 因为做单位内部使用的网站，有部分内容不想公开，所以希望屏蔽所有搜索引擎，整理了网上的几种方法，参考通过nginx禁止搜索引擎抓取和收录这篇文章实现。 通过标签实现禁止搜索引擎索引： 一般适用于某个网页的禁止，在\u003chead\u003e\u003c/head\u003e标签中添加以下标签实现。 共用head文件的网站也可以使用这种方式屏蔽整站。 \u003cmeta name=\"robots\" content=\"noindex\"\u003e //禁止所有搜索引擎索引 \u003cmeta name=\"googlebot\" content=\"noindex\"\u003e //禁止google索引 \u003cmeta name=\"BaiduSpider\" content=\"noindex\"\u003e //禁止百度索引 通过robots.txt实现禁止搜索引擎索引： 在网站根目录下新建robots.txt文件，在文件中写入以下代码。 一般搜索引擎在收录网站时会首先爬取根目录下的这个文件，但也有的搜索引擎不遵守这个规则。 User-agent: * Disallow: / 通过nginx配置文件禁止搜索引擎的UA访问： 这位老师基本上整理齐全了所有搜索引擎的UA，可以根据需求删减或增加。return 403当然可以返回404甚至444，也可以使用deny all或者其他更骚的方法。 if ($http_user_agent ~* \"qihoobot|Baiduspider|Googlebot|Googlebot-Mobile|Googlebot-Image|Mediapartners-Google|Adsbot-Google|Feedfetcher-Google|Yahoo! Slurp|Yahoo! Slurp China|YoudaoBot|Sosospider|Sogou spider|Sogou web spider|MSNBot|ia_archiver|Tomato Bot\") { return 403; } 通过Apache的htaccess入口文件中配置指令，同理但不同语法。 下面是从网上找的语法，我的是nginx，所以没测试。 ErrorDocument 503 “System Undergoing Maintenance” RewriteEngine On RewriteCond %{HTTP_USER_AGENT} (qihoobot|Baiduspider|Googlebot|Googlebot-Mobile|Googlebot-Image|Mediapartners-Google|Adsbot-Google|Feedfetcher-Google|Yahoo! Slurp|Yahoo! Slurp China|YoudaoBot|Sosospider|Sogou spider|Sogou web spider|MSNBot|ia_archiver|Tomato Bot) [NC] RewriteRule .* – [R=403,L] ","date":"2022-09-22","objectID":"/posts/disallow/:0:0","tags":["Disallow","搜索引擎"],"title":"禁止搜索引擎收录","uri":"/posts/disallow/"}]